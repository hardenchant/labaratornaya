Алгоритмические языки
Домашнее задание

6. Файлы, директории, пользователи

Процессы:

создание, удаление, просмотр файлов, директорий, символических ссылок  +
поиск файлов  -
настройка доступа к файлу на чтение и на запись +
доступ к файлам обычным пользователем, суперпользователем  +
смена пользователя  +
блокирование операций над файлом при его открытии (запрет копирования, пока открыт) +
рекурсивная копия директорий +
для файла в рамках сессии ведется история доступа (успех, неудача, тип доступа)  -
Необходимо реализовать функции сохранения и восстановления данных.  +


Описание интерфейса:
После открытия программы видим:
-Add user or load system

Есть два пути, загрузиться из файла либо создавать структуру самому.
Доступные команды: "loadsys", "adduser".

1) loadsys
При выборе загрузки из файла нужно ввести полное имя файла находящегося в папке программы, например: "programmimage.ini"
После нужно создать пользователя и залогиниться.
Дальнейший интерфейс совпадает с пунктом @2.

2) adduser
-Login please

Пытаемся залогиниться за тех пользователей которых создавали в прошлой сессии, командой "login user_name". 
Если имя не найдено, либо сессия была завершена некорректно программа выдаст:
-User user_name	not founded, please add user.

Следующей командой должно быть "adduser user_name", добавляем пользователя в базу.
"login user_name" - логинимся

Доступный далее интерфейс:
mkdir dir_name	- создаёт директорию с названием dir_name
touch file_name	- создаёт файл с названием file_name
list - выводит содержимое директории в которой вы находитесь
link /path1/path2/path3	- создает ссылку(ярлык) на path3
copy /path1/path2/path3 /path1/path2 - рекурсивное копирование path3 в path2
cd.. - перейти выше по иерархии директорий
cd dir_name - перейти в директорию dir_name
open file_name - открыть файл file_name 
tree - выводит текущую директорию в виде дерева с содержанием "всего"
readonly file_name/dir_name - ставит метку readonly на файл\директорию
logout - выйти для смены пользователя
root - получение прав на удаление\просмотр\копирование любых файлов\директорий
adduser - добавление нового пользователя
savesys - сохраняет состояние системы

Особенности:
-user_name может просматривать\удалять\копировать только файлы\директории создателем которых он является
-root позволяет обойти систему пользователей и оперировать с любыми директориями
-двойное использование readonly делает файл\директорию открытой для удаления\копирования
-при удалении файла\директории с расширением ".link" настоящий файл\директория не будет затронут
-при редактировании содержимого файла\директории с расширением ".link" содержимое настоящего файла\директории будет изменено
-пользователи не загружаются из среза программы, нужно создавать их заново, если имя созданного пользователя не совпадает
с именем создателя, файл\директория не будет доступен